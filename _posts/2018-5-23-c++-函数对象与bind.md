---
layout: post
title:
modified:
categories: Tech
tags: [cplusplus]
comments: true
---
<!-- TOC -->

- [要点](#要点)

<!-- /TOC -->

## 要点

重载了()的对象，和函数一个概念，但用对象来管理，可以有自己的状态什么的。

是用来代替c里的函数指针的.

准确的讲叫`指向函数的泛化指针`.

函数对象可以用
```
函数指针;
另1个相同函数调用的函数对象;
lambda;
```

如果类里需要持有1个函数指针，就可以用函数对象:
```cpp
typedef std::function<int(const Sth & a)> callFunction;

class A{
private:
    callFunction cb;
}
```


例子:
```cpp
#include <iostream>
#include <functional>


void test_3(int a, int b, int c){
        std::cout << a << " Bind " << b << std::endl;
}

void test(int a, int b){
        std::cout << a << " Global function " << b << std::endl;
}

struct A {
        void test(int a, int b){
                std::cout << a << " Member Function " << b << std::endl;
        }
};


int main()
{
        std::function<void (int,int)> f1 = test;

        std::function<void (int,int)> f2(test);

        std::function<void (int,int)> f3 = [](int a, int b){
                std::cout << a << " Lamba  Function " << b << std::endl;
                return 100;
        };

        A a;

        //需要bind配合,返回1个function obj;
        using namespace std::placeholders;
        //bind函数
        std::function<void (int,int)> f4 = std::bind(test_3,_1,_2,0);

        //bind成员函数
        std::function<void (int,int)> f5 = std::bind(&A::test,a,_1,_2);

        f1(0,0);
        f2(0,0);
        f3(0,0);
        f4(0,0);
        f5(0,0);

        return 0;
}

```

